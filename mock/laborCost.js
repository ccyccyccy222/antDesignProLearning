let list=[
  {
    key: 1,
    laborId: '000001',
    name: 'ccy1',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 2,
    laborId: '000002',
    name: 'ccy2',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 3,
    laborId: '000003',
    name: 'ccy3',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 4,
    laborId: '000004',
    name: 'ccy4',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 5,
    laborId: '000005',
    name: 'ccy5',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 6,
    laborId: '000006',
    name: 'ccy6',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 7,
    laborId: '000007',
    name: 'ccy7',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 8,
    laborId: '000008',
    name: 'ccy8',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 9,
    laborId: '000009',
    name: 'ccy9',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 10,
    laborId: '000010',
    name: 'ccy10',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 11,
    laborId: '000011',
    name: 'ccy11',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 12,
    laborId: '000012',
    name: 'ccy12',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 13,
    laborId: '000013',
    name: 'ccy13',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 14,
    laborId: '000014',
    name: 'ccy14',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 15,
    laborId: '000015',
    name: 'ccy15',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 16,
    laborId: '000016',
    name: 'ccy16',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 17,
    laborId: '000017',
    name: 'ccy17',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 18,
    laborId: '000018',
    name: 'ccy18',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  },
  {
    key: 19,
    laborId: '000019',
    name: 'ccy19',
    position: '服务员',
    baseSalary: 3000,
    overTimeAllowance: 0,
    mealAllowance: 800,
    otherAllowance: 0,
    socialSecurity: 150,
    timeOff: 0,
    otherOff: 0,
    totalSalary: 3950,
    handSalary: 3000,
    toAccount: false,
    updateTime: '2021-8-24 23:12:01'
  }
]


export default {
  'GET /api/laborList':(req,res)=>{
    res.send(list)
  },
  'PUT /api/updateLaborList':(req,res)=>{
    //0表示是添加，1表示是修改
    let requestType=0
    const date=new Date().Format("yyyy-MM-dd hh:mm:ss")
    //  修改
    const index=list.findIndex((item)=>{
      return item.laborId===req.body.laborId
    })
    if(index===-1){
      //  没有这个项，相当于新建
      const item={
        key:list.length+1,
        ...req.body,
        updateTime:date
      }
      list.push(item)
    }
    else {
      requestType=1

      for(let i in list[index]) {
        if (list[index][i] !== req[i]&&req.body[i]!==undefined) {
          list[index][i] = req.body[i]
          list[index].updateTime=date
        }
      }
    }
    res.send({
      requestType:requestType,
      list:list
    })
  }
}
